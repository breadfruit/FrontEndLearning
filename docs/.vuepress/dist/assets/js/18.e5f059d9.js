(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{416:function(s,t,a){"use strict";a.r(t);var n=a(2),r=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"npm学习"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#npm学习"}},[s._v("#")]),s._v(" NPM学习")]),s._v(" "),t("h2",{attrs:{id:"npm-工作流"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#npm-工作流"}},[s._v("#")]),s._v(" npm 工作流")]),s._v(" "),t("h3",{attrs:{id:"通配符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#通配符"}},[s._v("#")]),s._v(" 通配符")]),s._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"lint1"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"jshint *.js"')]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"lint2"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"jshint **/*.js"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("blockquote",[t("p",[t("code",[s._v("*")]),s._v("表示任意文件名，"),t("code",[s._v("**")]),s._v("表示任意一层子目录。")])]),s._v(" "),t("h3",{attrs:{id:"多个-npm-script串行并行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#多个-npm-script串行并行"}},[s._v("#")]),s._v(" 多个 npm script串行并行")]),s._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"lint:js"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"eslint *.js"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"lint:css"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"stylelint *.less"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"lint:json"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"jsonlint --quiet *.json"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"lint:markdown"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"markdownlint --config .markdownlint.json *.md"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"mocha"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mocha tests/"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"test"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"npm run lint:js &&  npm run lint:css && npm run lint:json && npm run lint:markdown && mocha tests/"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"test1"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"npm-run-all --parallel lint:* mocha"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])])]),t("blockquote",[t("p",[s._v("&& 表示串行，但是如果其中一个子进程发生异常将终止进程\n& 表示并行，所有的\nwait 是一个shell命令，它能保持等待状态， 直到指定进程运行完成，而且返回进程的退出状态值。 而且Wait命令还可以用于等待特定的进程ID和作业ID并返回其终止状态。")]),s._v(" "),t("p",[s._v("npm-run-all npm内部处理了shell的串行,其中内部也处理了& wait")]),s._v(" "),t("p",[s._v("npm-run-all ---parallel 表示并行")])]),s._v(" "),t("p",[s._v("并行会出现子进程之间运行时间差异较大的情况，导致运行时间最长的子进程在程序结束后输出。")]),s._v(" "),t("img",{attrs:{src:s.$withBase("/images/npm1.png")}}),s._v(" "),t("p",[s._v("加上关键词wait，并行会出现子进程之间运行时间差异较大的情况，可以等到所有的子进程都完成了再退出程序。")]),s._v(" "),t("img",{attrs:{src:s.$withBase("/images/npm2.png")}}),s._v(" "),t("h2",{attrs:{id:"faq"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#faq"}},[s._v("#")]),s._v(" FAQ")]),s._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"start"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"webpack"')]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("h3",{attrs:{id:"npm-run-start-中的webpack从哪里来的"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#npm-run-start-中的webpack从哪里来的"}},[s._v("#")]),s._v(" npm run start 中的webpack从哪里来的？")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://docs.npmjs.com/cli/v8/commands/npm-run-script",target:"_blank",rel:"noopener noreferrer"}},[s._v("文档"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("instead of")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"scripts"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"start"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"node_modules/.bin/webpack"')]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("p",[s._v("其实就是npm run 默认把"),t("code",[s._v("node_modules/.bin")]),s._v("加到"),t("code",[s._v("PATH")]),s._v("环境变量中")]),s._v(" "),t("blockquote",[t("p",[s._v("npm 脚本的原理非常简单。每当执行"),t("code",[s._v("npm run")]),s._v("，就会自动新建一个 Shell，在这个 Shell 里面执行指定的脚本命令。因此，只要是 Shell（一般是 Bash）可以运行的命令，就可以写在 npm 脚本里面。")])]),s._v(" "),t("h3",{attrs:{id:"node-modules-bin是从哪里来的"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node-modules-bin是从哪里来的"}},[s._v("#")]),s._v(" node_modules/.bin是从哪里来的？")]),s._v(" "),t("p",[s._v("当某个模块配置了 "),t("code",[s._v("bin")]),s._v(" 定义时，就会被安装的时候，自动软链了过去。其中文件内容都是针对模块内进行操作。非.bin")]),s._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"bin"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"webpack"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bin/webpack.js"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("p",[t("a",{attrs:{href:"https://docs.npmjs.com/cli/v6/configuring-npm/package-json#bin",target:"_blank",rel:"noopener noreferrer"}},[s._v("bin"),t("OutboundLink")],1)]),s._v(" "),t("h3",{attrs:{id:"npx与npm有什么区别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#npx与npm有什么区别"}},[s._v("#")]),s._v(" npx与npm有什么区别")]),s._v(" "),t("p",[s._v("npx是用于命令行的寻址(当执⾏ npx xxx 的时候，npx先看xxxz在$PATH⾥有没有，如果没有，找当前⽬录的 node_modules ⾥有没有，如果还是没有，就安装这个xxx 来执⾏。)")])])}),[],!1,null,null,null);t.default=r.exports}}]);